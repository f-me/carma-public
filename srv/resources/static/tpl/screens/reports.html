<!-- reports generation screen -->
<div id="report-get"
     style="width:30%;margin:0 auto;text-align:center;">
  <fieldset>
    <legend>Отчёты</legend>
    <form action="/report">
      <p>
        <div class="input-append date"
             data-provide="datepicker"
             data-autoshow-datepicker="true"
             data-date-format="dd.mm.yyyy"
             data-date-weekstart="1">
          <input type="text"
                 id="date-from"
                 class="pane-span focusable"
                 name="from"/>
          <span class="add-on"><i class="icon icon-calendar" /></span>
        </div>
        <div class="input-append date"
             data-provide="datepicker"
             data-autoshow-datepicker="true"
             data-date-format="dd.mm.yyyy"
             data-date-weekstart="1">
          <input type="text" id="date-to" class="pane-span focusable" name="to"/>
          <span class="add-on"><i class="icon icon-calendar" /></span>
        </div>
        <select name="program" data-bind="foreach: $data">
          <option data-bind="value: id, text: name" />
        </select>
      </p>
      <button class="btn btn-success" type="submit">Отчёт</button>
    </form>
  </fieldset>
</div>

<div id="all-reports" class="row">
  <div class="span4">
    <h3>Добавить отчет</h3>
    <form id="add-report"
          action="/_/report"
          method="POST"
          enctype="multipart/form-data">
      <label>Название отчета</label>
      <input name="name" type="text">
      <label>Шаблон</label>
      <input name="templates" type="file">
      <label>
        <input class="btn btn-success"
               type="submit"
               value="Добавить"
               onClick="checkReportUniq(event)">
    </form>
  </div>

  <div class="span8">
    <table class="table table-striped table-bordered dataTable"
           id="reports-table">
      <thead>
        <tr>
          <th width="40%">Название</th>
          <th width="40%">Имя файла</th>
          <th width="10%"></th>
        </tr>
      </thead>
      <tbody data-bind="foreach: $data">
        <tr data-bind="attr: { id: id }">
          <td data-bind="text: name"></td>
          <td>
            <a data-bind="text: templates,
                          attr: {
                          href: '/s/fileupload/report/' + id +
                          '/templates/' + templates
                          }">
            </a>
          </td>
          <td>
            <button class="btn"
                    onClick="deleteReport(this)">
              Удалить
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>

<div class="row-fluid">
  <div id="search-results" class="span9">
    <table id="tbl" class="table table-striped">
      <thead>
        <tr>
          <th>
          </th>
          <!-- ko foreach: showFields.fields -->
          <th>
            <button class="btn btn-link"
                    data-bind="text: $root.showFields.labels[$data], sort: name">
            </button>
          </th>
          <!-- /ko -->
        </tr>
      </thead>
      <tbody>
        <!-- ko foreach: kvms -->
        <tr>
          <td data-bind="expand: $data">
            +
          </td>
          <!-- ko foreach: $root.showFields.fields -->
          <td data-bind="renderGroup: $parent" />
          <!-- /ko -->
        </tr>
        <tr > <!-- style="display: none;"> -->
          <td data-bind="attr: { colspan: $root.showFields.fields().length + 1
                               }">
            <div class="hidden-container"
                 data-bind="eachNonEmpty: $root.showFields.hidden">
              <div style="float: left; margin-right: 1em">
                <div style="float: left; margin-right: 0.3em" >
                     <b data-bind="text: $root.showFields.labels[$data] + ':'"/>
                </div>
                <div  style="float: left; "
                     data-bind="renderGroup: $parent" />
              </div>
            </div>
          <td>
        </tr>
        <!-- /ko -->
      </tbody>
    </table>
  </div>

  <div class="span3" >
    <div class="pager">
      <a class="prev-page"
         data-bind="click: prevPage">
        &lt;&lt;
      </a>
      <span class="current-page" data-bind="text: page" ></span>
      <a class="next"
         data-bind="click: nextPage">
        &gt;&gt;
      </a>
    </div>
    <div id="search-conditions"
         data-bind="foreach: kvm.showFields">
      <div data-bind="renderField: $data" />
    </div>
    <div id="show-field"
         data-bind="renderField: f" />
  </div>

</div>

<script type="text/template" id="search-wrap-template">
  <div class="row-fluid">
    <div class="span1" data-bind="click: function () { kvm.showFields.del(fld) }" >
      <label><i class="icon-remove"></i></label>
    </div>
    <div class="content span11" data-bind="with: kvm">
    </div>
  </div>
</script>

<script type="text/template" id="group-ro-template">
  <div data-bind="foreach: fields" >
    <div data-bind="render: $data" />
  </div>
</script>

<script type="text/template" id="dictionary-ro-template">
  <span data-bind="text: kvm[field.name + 'Local']" />
</script>

<script type="text/template" id="text-ro-template">
  <span data-bind="text: kvm[field.name]" />
</script>

<script type="text/template" id="checkbox-ro-template">
  <span data-bind="text: kvm[field.name]() ? 'âœ“' : ''" />
</script>

<script type="text/template" id="ident-ro-template">
  <a data-bind="attr: {
                href: '/#' + kvm._meta.model.name + '/' + kvm[field.name]()
                },
                text: kvm[field.name]()
                " />
</script>

<script type="text/template" id="datetime-ro-template">
  <span data-bind="text: kvm[field.name]()" />
</script>

<script type="text/template" id="phone-ro-template">
  <span data-bind="text: kvm[field.name]()" />
</script>
